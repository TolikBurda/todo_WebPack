!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t);var i=function e(t,n,o){r(this,e),this.event=t,this.obj=n,this.method=o},u=function(){function e(){r(this,e),this.subscriptions=[]}var t,n,u;return t=e,(n=[{key:"subscribe",value:function(e,t,n){var o=new i(e,t,n);this.subscriptions.push(o)}},{key:"fireEvent",value:function(e,t){for(var n=0;n<this.subscriptions.length;n++){var o=this.subscriptions[n];o.event==e&&o.method.call(o.obj,t)}}}])&&o(t.prototype,n),u&&o(t,u),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=null}var t,n,o;return t=e,(n=[{key:"render",value:function(){}}])&&c(t.prototype,n),o&&c(t,o),e}();var l=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),this.title=t,this.completed=!1};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pubsub=t,this.todos=[]}var t,n,o;return t=e,(n=[{key:"createTodo",value:function(e){var t=new l(e,this.pubsub);this.todos.push(t),this.pubsub.fireEvent("create",this.todos)}},{key:"deleteTodo",value:function(e){var t=this.todos.findIndex((function(t){return t.id===e}));this.todos.splice(t,1),this.pubsub.fireEvent("onDelete",this.todos)}},{key:"toggleTodo",value:function(e){var t=this.todos.find((function(t){return t.id===e}));t.completed=!t.completed,this.pubsub.fireEvent("onToggle",this.todos)}},{key:"editTodo",value:function(e,t){this.todos.find((function(e){return e.id===t})).title=e,this.pubsub.fireEvent("onEdit",this.todos)}}])&&s(t.prototype,n),o&&s(t,o),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,h(t).call(this))).pubsub=e,n.form=null,n.render(),n.formListener(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(o=[{key:"formListener",value:function(){var e=this;this.form.addEventListener("submit",(function(t){t.preventDefault();var n=t.target.firstChild.value;e.pubsub.fireEvent("onCreate",n),t.target.firstChild.value=""}))}},{key:"render",value:function(){this.form=document.createElement("form"),this.form.className="todo-form";var e=document.createElement("input");e.type="text",e.placeholder="What do we have to do?",this.form.append(e);var t=document.createElement("button");t.type="submit",t.innerText="Add",this.form.append(t),this.element=this.form}}])&&p(n.prototype,o),r&&p(n,r),t}(a);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function t(e,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=g(this,w(t).call(this))).pubsub=e,o.id=n,o.checkBoxButton=null,o.deleteButton=null,o.editButton=null,o.controlsContainerDiv=null,o.editDivContainer=null,o.saveButton=null,o}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(o=[{key:"handleEvent",value:function(){var e=this;this.deleteButton.addEventListener("click",(function(){e.pubsub.fireEvent("handleDelete",e.id)})),this.checkBoxButton.addEventListener("click",(function(){e.pubsub.fireEvent("toggle",e.id)})),this.editButton.addEventListener("click",(function(){e.controlsContainerDiv.style.display="none",e.editDivContainer.style.display=""})),this.saveButton.addEventListener("click",(function(){var t={title:e.textField.value,id:e.id};e.pubsub.fireEvent("edit",t)}))}},{key:"render",value:function(e,t){var n=document.createElement("section");n.className="todo-list";var o=[];this.controlsContainerDiv=document.createElement("div"),this.controlsContainerDiv.className="todo-item",this.controlsContainerDiv.className+=t?" completed":"",this.checkBoxButton=document.createElement("button"),this.checkBoxButton.classList.add("checkbox","icon");var r=document.createElement("i");r.className="material-icons",r.innerText=t?"check_box":"check_box_outline_blank",this.checkBoxButton.prepend(r);var i=document.createElement("span");i.className="title",i.innerText=e;var u=document.createElement("div");u.className="actions";var c=document.createElement("button");c.classList.add("edit","icon");var a=document.createElement("i");a.className="material-icons",a.innerText="create",c.append(a),u.append(c),this.editButton=c,this.deleteButton=document.createElement("button"),this.deleteButton.classList.add("delete","icon");var l=document.createElement("i");l.className="material-icons",l.innerText="delete",this.deleteButton.append(l),u.append(this.deleteButton),o.push(this.checkBoxButton),o.push(i),o.push(u);for(var s=0;s<o.length;s++)this.controlsContainerDiv.append(o[s]);var f=[],d=document.createElement("div");d.className="todo-item",d.style.display="none",this.editDivContainer=d;var p=document.createElement("input");p.type="text",p.value=e,this.textField=p;var b=document.createElement("div");b.className="actions",this.saveButton=document.createElement("button"),this.saveButton.classList.add("save","icon");var h=document.createElement("i");h.className="material-icons",h.innerText="save",this.saveButton.append(h),b.append(this.saveButton),f.push(p),f.push(b);for(var m=0;m<f.length;m++)d.append(f[m]);n.append(d),n.append(this.controlsContainerDiv),this.element=n,this.handleEvent()}}])&&E(n.prototype,o),r&&E(n,r),t}(a);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=k(t).call(this))||"object"!==_(r)&&"function"!=typeof r?S(o):r).element=document.createElement("div"),n.pubsub=e,n.todoList=null,n.pubsub.subscribe("create",S(n),n.render),n.pubsub.subscribe("onDelete",S(n),n.render),n.pubsub.subscribe("onToggle",S(n),n.render),n.pubsub.subscribe("onEdit",S(n),n.render),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(o=[{key:"render",value:function(e){var t=this;e&&(this.element.innerHTML="",this.todoList=e,this.todoList.forEach((function(e){var n=new T(t.pubsub,e.id);n.render(e.title,e.completed),1==e.completed?t.element.append(n.element):t.element.prepend(n.element)})))}}])&&j(n.prototype,o),r&&j(n,r),t}(a);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,L(t).call(this))).pubsub=e,n.confirmButton=null,n.cancelButton=null,n.confirmModalVisible=!1,n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(o=[{key:"handleEvent",value:function(){var e=this;this.cancelButton.addEventListener("click",(function(){e.pubsub.fireEvent("cancelDelete")})),this.confirmButton.addEventListener("click",(function(){e.pubsub.fireEvent("delete")}))}},{key:"render",value:function(){this.modal=document.createElement("div"),this.modal.className="popup",this.modal.style.display=this.confirmModalVisible?"":"none";var e=document.createElement("span");e.className="title",e.innerText="Are you sure?",this.modal.append(e);var t=document.createElement("div");return this.confirmButton=document.createElement("button"),this.confirmButton.innerText="OK",t.append(this.confirmButton),this.cancelButton=document.createElement("button"),this.cancelButton.innerText="Cancel",t.append(this.cancelButton),this.modal.append(t),this.element=this.modal,this.handleEvent(),this.element}}])&&D(n.prototype,o),r&&D(n,r),t}(a);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"default",(function(){return I}));var I=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(o=A(t).call(this))||"object"!==R(o)&&"function"!=typeof o?H(n):o).pubsub=new u,e.element=document.createElement("div"),e.todoService=new f(e.pubsub),e.form=new y(e.pubsub),e.todoList=new x(e.pubsub),e.confirmModal=new N(e.pubsub),e.idTodo_ToDelete=null,e.title="My 2Do",document.getElementsByTagName("header")[0].innerHTML=e.title,e.render(),e.pubsub.subscribe("onCreate",H(e),e.createTodo),e.pubsub.subscribe("handleDelete",H(e),e.handleDelete),e.pubsub.subscribe("delete",H(e),e.deleteTodo),e.pubsub.subscribe("cancelDelete",H(e),e.cancelDelete),e.pubsub.subscribe("toggle",H(e),e.toggleTodo),e.pubsub.subscribe("edit",H(e),e.editTodo),e}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){this.element.innerHTML="",this.element.append(this.confirmModal.render()),this.element.append(this.form.element),this.element.append(this.todoList.element)}},{key:"createTodo",value:function(e){e&&this.todoService.createTodo(e)}},{key:"handleDelete",value:function(e){this.idTodo_ToDelete=e,this.confirmModal.confirmModalVisible=!0,this.render()}},{key:"cancelDelete",value:function(){this.idTodo_ToDelete=null,this.confirmModal.confirmModalVisible=!1,this.render()}},{key:"deleteTodo",value:function(){this.todoService.deleteTodo(this.idTodo_ToDelete),this.idTodo_ToDelete=null,this.confirmModal.confirmModalVisible=!1,this.render()}},{key:"toggleTodo",value:function(e){e&&this.todoService.toggleTodo(e)}},{key:"editTodo",value:function(e){e&&this.todoService.editTodo(e.title,e.id)}}])&&V(n.prototype,o),r&&V(n,r),t}(a),K=new I;document.body.append(K.element)}]);